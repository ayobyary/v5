<div class="min-h-screen flex items-center justify-center bg-white p-2 sm:p-4">
  <div class="bg-white rounded-2xl w-full max-w-4xl h-auto flex flex-col md:flex-row overflow-hidden shadow-2xl">
    <!-- اسلایدشو فقط در موبایل نمایش داده می‌شود (زیر md) -->
    <div class="w-full flex items-center justify-center block md:hidden">
      <div class="bg-gray-100 sm:w-full sm:max-h-96 rounded-2xl overflow-hidden flex items-center justify-center">
        <img src="assets/images/Shop Women's Accessories.jpeg" alt="Register Illustration" class="w-full h-full object-cover object-center transition-opacity duration-500 mobile-img-320">
      </div>
    </div>
    <!-- فرم ثبت‌نام -->
    <div class="w-full md:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center">
      <div class="mb-12 show-on-md-up">
        <h1 class="text-[32px] font-bold text-gray-800 flex items-center gap-2">
          Create Account
          <span class="wave-emoji">👋</span>
        </h1>
        <p class="text-gray-600 mt-2">Please fill in your details to sign up.</p>
      </div>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 flex-grow">
        <div class="space-y-4">
          <div class="relative">
            <input type="email" formControlName="email"
                   class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-pink-500 focus:ring focus:ring-pink-200 transition-all outline-none"
                   placeholder="Email">
            <mat-error *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('required')"
                      class="text-sm text-red-500 mt-1">Email is required</mat-error>
            <mat-error *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.hasError('email')"
                      class="text-sm text-red-500 mt-1">Please enter a valid email</mat-error>
          </div>
          <div class="relative">
            <input [type]="'password'" formControlName="password"
                   class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-pink-500 focus:ring focus:ring-pink-200 transition-all outline-none"
                   placeholder="Password">
            <mat-error *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('required')"
                      class="text-sm text-red-500 mt-1">Password is required</mat-error>
            <mat-error *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('minlength')"
                      class="text-sm text-red-500 mt-1">Password must be at least 6 characters</mat-error>
          </div>
          <div class="relative">
            <input [type]="'password'" formControlName="confirmPassword"
                   class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-pink-500 focus:ring focus:ring-pink-200 transition-all outline-none"
                   placeholder="Confirm Password">
            <mat-error *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.hasError('mismatch')"
                      class="text-sm text-red-500 mt-1">Passwords do not match</mat-error>
          </div>
          <div class="relative">
            <input type="text" formControlName="phone"
                   class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-pink-500 focus:ring focus:ring-pink-200 transition-all outline-none"
                   placeholder="Phone Number">
            <mat-error *ngIf="registerForm.get('phone')?.touched && registerForm.get('phone')?.hasError('required')"
                      class="text-sm text-red-500 mt-1">Phone number is required</mat-error>
            <mat-error *ngIf="registerForm.get('phone')?.touched && registerForm.get('phone')?.hasError('pattern')"
                      class="text-sm text-red-500 mt-1">Enter a valid phone number</mat-error>
          </div>
        </div>
        <div class="mt-auto space-y-4">
          <button type="submit"
                  [disabled]="registerForm.invalid || isLoading"
                  class="w-full py-3 px-4 bg-pink-500 hover:bg-pink-600 text-white rounded-xl transition-colors flex items-center justify-center">
            <mat-spinner *ngIf="isLoading" [diameter]="24" class="mr-2"></mat-spinner>
            <span>{{isLoading ? 'Registering...' : 'Register'}}</span>
          </button>
          <div *ngIf="errorMessage" class="text-red-500 text-center mt-2">{{ errorMessage }}</div>
          <div *ngIf="successMessage" class="text-green-600 text-center mt-2">{{ successMessage }}</div>
          <p class="text-center text-gray-600">
            Already have an account?
            <a routerLink="/login" class="text-pink-500 hover:text-pink-600 transition-colors">Log in</a>
          </p>
        </div>
      </form>
    </div>
    <!-- تصویر در دسکتاپ -->
    <div class="hidden md:flex md:w-1/2 items-center justify-center bg-gray-100 min-h-0 h-auto">
      <img src="assets/images/Shop Women's Accessories.jpeg" alt="Register Illustration" class="w-full h-full max-h-full object-cover object-center rounded-l-2xl transition-opacity duration-500" />
    </div>
  </div>
</div> 